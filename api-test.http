### KelolaAja API Testing
### Base URL
@baseUrl = http://localhost:8080
@accessToken = 
@refreshToken = 

### ===== AUTHENTICATION =====

### 1. Login with seeded admin user
POST {{baseUrl}}/api/auth/login
Content-Type: application/json

{
  "email": "admin@kelolaaja.com",
  "password": "admin123"
}

### 2. Get current user profile
GET {{baseUrl}}/api/auth/me
Authorization: Bearer {{accessToken}}

### 3. Refresh access token
POST {{baseUrl}}/api/auth/refresh
Content-Type: application/json

{
  "refreshToken": "{{refreshToken}}"
}

### 4. Logout
POST {{baseUrl}}/api/auth/logout
Content-Type: application/json

### ===== USER PROFILE MANAGEMENT =====

### 6. Update my profile
PUT {{baseUrl}}/api/users/me
Authorization: Bearer {{accessToken}}
Content-Type: application/json

{
  "fullName": "Updated Name",
  "username": "updatedusername"
}

### 7. Change my password
PUT {{baseUrl}}/api/users/me/password
Authorization: Bearer {{accessToken}}
Content-Type: application/json

{
  "currentPassword": "admin123",
  "newPassword": "NewPass123456"
}

### ===== USER MANAGEMENT (Admin Only) =====

### 5. List all users with pagination
GET {{baseUrl}}/api/users?page=1&limit=10
Authorization: Bearer {{accessToken}}

### 6. Search users
GET {{baseUrl}}/api/users?search=admin&role=Admin&isActive=true
Authorization: Bearer {{accessToken}}

### 7. Get user by ID
GET {{baseUrl}}/api/users/1
Authorization: Bearer {{accessToken}}

### 8. Create new user (Admin only) - HANYA INI CARA MENAMBAH USER
POST {{baseUrl}}/api/users
Authorization: Bearer {{accessToken}}
Content-Type: application/json

{
  "username": "newadmin",
  "email": "newadmin@kelolaaja.com",
  "password": "Admin123456",
  "fullName": "New Admin User",
  "role": "Admin"
}

### 9. Update user by ID (Admin only)
PUT {{baseUrl}}/api/users/2
Authorization: Bearer {{accessToken}}
Content-Type: application/json

{
  "fullName": "Updated Editor Name",
  "role": "Admin",
  "isActive": true
}

### 10. Delete user by ID (Admin only)
DELETE {{baseUrl}}/api/users/3
Authorization: Bearer {{accessToken}}

### ===== HEALTH CHECK =====

### Check server status
GET {{baseUrl}}/

